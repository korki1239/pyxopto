
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Sampling volume simulations &#8212; PyXOpto 0.1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Voxelized MC" href="../../mcvox/index.html" />
    <link rel="prev" title="Photon packet tracing" href="tracing.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="sampling-volume-simulations">
<span id="example-sampling-volume"></span><h1>Sampling volume simulations<a class="headerlink" href="#sampling-volume-simulations" title="Permalink to this headline">¶</a></h1>
<p>This example (available in <cite>examples/mcml/sampling_volume</cite>) covers all the neccessary steps for simulating sampling volume utilizing multimode optical fibers as sources and detectors. Sampling volume gives us an understanding of which part of the turbid medium under investigation is primarily responsible for the given detected signal (Meglinsky, I. V., and S. J. Matcher, Med. Biol. Eng. Comput., 39(1), 44-50 (2001).). This example uses a similar approach as in <a class="reference internal" href="tracing.html#example-photon-packet-tracing"><span class="std std-ref">Photon packet tracing</span></a>, which should be read first before proceeding with this example.</p>
<section id="importing-the-required-modules-and-submodules">
<h2>Importing the required modules and submodules<a class="headerlink" href="#importing-the-required-modules-and-submodules" title="Permalink to this headline">¶</a></h2>
<p>Like in the example <a class="reference internal" href="tracing.html#example-photon-packet-tracing"><span class="std std-ref">Photon packet tracing</span></a>, we import the neccessary modules. In addition, we import the submodule <a class="reference internal" href="../../../apidoc/xopto.mcml.mcutil.axis.html#module-xopto.mcml.mcutil.axis" title="xopto.mcml.mcutil.axis"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xopto.mcml.mcutil.axis</span></code></a>, which comprises helper classes for accumulator axis definitions.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">pp</span>

<span class="kn">from</span> <span class="nn">xopto.mcml</span> <span class="kn">import</span> <span class="n">mc</span>
<span class="kn">from</span> <span class="nn">xopto.mcml.mcutil</span> <span class="kn">import</span> <span class="n">fiber</span><span class="p">,</span> <span class="n">axis</span>
<span class="kn">from</span> <span class="nn">xopto.cl</span> <span class="kn">import</span> <span class="n">clinfo</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Sampling volume simulations can be done in the voxelated Monte Carlo model by using the <a class="reference internal" href="../../../apidoc/xopto.mcvox.mc.html#module-xopto.mcvox.mc" title="xopto.mcvox.mc"><code class="xref py py-mod docutils literal notranslate"><span class="pre">xopto.mcvox.mc</span></code></a> submodule.</p>
</div>
</section>
<section id="computational-device">
<h2>Computational device<a class="headerlink" href="#computational-device" title="Permalink to this headline">¶</a></h2>
<p>Select the desired OpenCL computational device (see <a class="reference internal" href="../../opencl_devices.html#opencl-devices-label"><span class="std std-ref">OpenCL devices</span></a>).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cl_device</span> <span class="o">=</span> <span class="n">clinfo</span><span class="o">.</span><span class="n">gpu</span><span class="p">(</span><span class="n">platform</span><span class="o">=</span><span class="s1">&#39;nvidia&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In this example we have selected the first computational device listed under the Nvidia platform. The string should be changed according to the installed hardware devices.ed to an available computation device. It is sufficient to provide only a unique part that pertains to the desired computational device.</p>
</div>
</section>
<section id="the-layer-stack">
<h2>The layer stack<a class="headerlink" href="#the-layer-stack" title="Permalink to this headline">¶</a></h2>
<p>In this example we use a single-layered turbid medium of 1 cm thickness. The refractive index of the single layer was set to 1.33, while the surrounding medium refractive index is set to 1.45. The absorption and scattering coefficients of the single layer are set to 2 1/cm and 250 1/cm. Finally, the Henyey-Greenstein phase function is utilized with anistropy factor of 0.9 in the single layer turbid medium.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">d</span> <span class="o">=</span> <span class="mf">1e-2</span>
<span class="n">layers</span> <span class="o">=</span> <span class="n">mc</span><span class="o">.</span><span class="n">mclayer</span><span class="o">.</span><span class="n">Layers</span><span class="p">([</span>
    <span class="n">mc</span><span class="o">.</span><span class="n">mclayer</span><span class="o">.</span><span class="n">Layer</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mf">1.45</span><span class="p">,</span> <span class="n">mua</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">mus</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">pf</span><span class="o">=</span><span class="n">mc</span><span class="o">.</span><span class="n">mcpf</span><span class="o">.</span><span class="n">Hg</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)),</span>
    <span class="n">mc</span><span class="o">.</span><span class="n">mclayer</span><span class="o">.</span><span class="n">Layer</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="n">d</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mf">1.33</span><span class="p">,</span> <span class="n">mua</span><span class="o">=</span><span class="mf">2e2</span><span class="p">,</span> <span class="n">mus</span><span class="o">=</span><span class="mf">250e2</span><span class="p">,</span> <span class="n">pf</span><span class="o">=</span><span class="n">mc</span><span class="o">.</span><span class="n">mcpf</span><span class="o">.</span><span class="n">Hg</span><span class="p">(</span><span class="mf">0.90</span><span class="p">)),</span>
    <span class="n">mc</span><span class="o">.</span><span class="n">mclayer</span><span class="o">.</span><span class="n">Layer</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mf">1.45</span><span class="p">,</span> <span class="n">mua</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">mus</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">pf</span><span class="o">=</span><span class="n">mc</span><span class="o">.</span><span class="n">mcpf</span><span class="o">.</span><span class="n">Hg</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)),</span>
<span class="p">])</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All quantities MUST be provided in appropriate units, i.e., distances in m, absorption and scattering coefficients in 1/m.</p>
</div>
</section>
<section id="source">
<h2>Source<a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h2>
<p>The  multimode optical fiber source was defined similarly to the example <a class="reference internal" href="tracing.html#example-photon-packet-tracing"><span class="std std-ref">Photon packet tracing</span></a> having a core diameter <code class="code docutils literal notranslate"><span class="pre">dcore</span></code> of 200 μm, combined diameter of core and cladding <code class="code docutils literal notranslate"><span class="pre">dcladding</span></code> of 220 μm, core refractive index <code class="code docutils literal notranslate"><span class="pre">ncore</span></code> of 1.45 and numerical aperture <code class="code docutils literal notranslate"><span class="pre">na</span></code> of 0.22. The multimode optical fiber source is also displaced along the <img class="math" src="../../../_images/math/888f7c323ac0341871e867220ae2d76467d74d6e.png" alt="x"/> coordinate by -220 μm and positioned normally to the turbid medium.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">source</span> <span class="o">=</span> <span class="n">mc</span><span class="o">.</span><span class="n">mcsource</span><span class="o">.</span><span class="n">UniformFiber</span><span class="p">(</span>
    <span class="n">fiber</span><span class="o">=</span><span class="n">fiber</span><span class="o">.</span><span class="n">MultimodeFiber</span><span class="p">(</span>
        <span class="n">dcore</span><span class="o">=</span><span class="mf">200e-6</span><span class="p">,</span> <span class="n">dcladding</span><span class="o">=</span><span class="mf">220e-6</span><span class="p">,</span> <span class="n">ncore</span><span class="o">=</span><span class="mf">1.45</span><span class="p">,</span> <span class="n">na</span><span class="o">=</span><span class="mf">0.22</span>
    <span class="p">),</span>
    <span class="n">direction</span><span class="o">=</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span>
    <span class="n">position</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mf">220e-6</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="detector">
<h2>Detector<a class="headerlink" href="#detector" title="Permalink to this headline">¶</a></h2>
<p>Unlike in the example <a class="reference internal" href="tracing.html#example-photon-packet-tracing"><span class="std std-ref">Photon packet tracing</span></a>, we define the multimode optical fiber detector at the top of the turbid medium. For the multimode optical fiber detector, we use the same properties as for the multimode optical fiber source, while the displacement along the <img class="math" src="../../../_images/math/888f7c323ac0341871e867220ae2d76467d74d6e.png" alt="x"/> coordinate is in positive direction by 220 μm.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">detector_top</span> <span class="o">=</span> <span class="n">mc</span><span class="o">.</span><span class="n">mcdetector</span><span class="o">.</span><span class="n">FiberArray</span><span class="p">(</span>
    <span class="p">[</span><span class="n">fiber</span><span class="o">.</span><span class="n">FiberLayout</span><span class="p">(</span>
        <span class="n">fiber</span><span class="o">=</span><span class="n">fiber</span><span class="o">.</span><span class="n">MultimodeFiber</span><span class="p">(</span>
        <span class="n">dcore</span><span class="o">=</span><span class="mf">200e-6</span><span class="p">,</span> <span class="n">dcladding</span><span class="o">=</span><span class="mf">220e-6</span><span class="p">,</span> <span class="n">ncore</span><span class="o">=</span><span class="mf">1.45</span><span class="p">,</span> <span class="n">na</span><span class="o">=</span><span class="mf">0.22</span>
        <span class="p">),</span>
        <span class="n">position</span><span class="o">=</span><span class="p">(</span><span class="mf">220e-6</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span>
        <span class="n">direction</span><span class="o">=</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
    <span class="p">),]</span>
<span class="p">)</span>

<span class="n">detectors</span> <span class="o">=</span> <span class="n">mc</span><span class="o">.</span><span class="n">mcdetector</span><span class="o">.</span><span class="n">Detectors</span><span class="p">(</span>
    <span class="n">top</span><span class="o">=</span><span class="n">detector_top</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="trace">
<h2>Trace<a class="headerlink" href="#trace" title="Permalink to this headline">¶</a></h2>
<p>For sampling volume simulations, the photon packet traces are required. The trace object is defined similarly to the example <a class="reference internal" href="tracing.html#example-photon-packet-tracing"><span class="std std-ref">Photon packet tracing</span></a>. The only difference is in the geometrical properties, where the photon packet traces are selected only if the photon packet is detected in the multimode optical fiber detector. As such, the final <img class="math" src="../../../_images/math/8d051150f8669295ecdbe92367941012175a824d.png" alt="z"/> coordinate should be within a small interval from the upper boundary <img class="math" src="../../../_images/math/68a19273f6a404e1f7e2bd4ad67460bbe5777a93.png" alt="z=0"/>. The final direction of the detected photon packet should be within the acceptance cone corresponding to the numerical apperture 0.22. Note that the detected photon packets are already propagated over the boundary and the surrounding medium is therefore fused silica or medium with refractive index approx. 1.45. Finally, the photon packets are detected only within a circle of radius 100 μm, which is displaced by the same amount as the multimode optical fiber detector.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">nphotons</span> <span class="o">=</span> <span class="mi">100000</span>
<span class="n">recorded_traces</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">number_of_events</span> <span class="o">=</span> <span class="mi">500</span>

<span class="n">trace</span> <span class="o">=</span> <span class="n">mc</span><span class="o">.</span><span class="n">mctrace</span><span class="o">.</span><span class="n">Trace</span><span class="p">(</span>
    <span class="n">maxlen</span><span class="o">=</span><span class="n">number_of_events</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">mc</span><span class="o">.</span><span class="n">mctrace</span><span class="o">.</span><span class="n">Trace</span><span class="o">.</span><span class="n">TRACE_ALL</span><span class="p">,</span>
    <span class="nb">filter</span><span class="o">=</span><span class="n">mc</span><span class="o">.</span><span class="n">mctrace</span><span class="o">.</span><span class="n">Filter</span><span class="p">(</span>
        <span class="n">z</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mf">1e-9</span><span class="p">,</span> <span class="mf">1e-9</span><span class="p">),</span>
        <span class="n">pz</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arcsin</span><span class="p">(</span><span class="mf">0.22</span><span class="o">/</span><span class="mf">1.45</span><span class="p">))),</span>
        <span class="n">r</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">100e-6</span><span class="p">,</span> <span class="p">(</span><span class="mf">220e-6</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="sampling-volume">
<h2>Sampling volume<a class="headerlink" href="#sampling-volume" title="Permalink to this headline">¶</a></h2>
<p>Here we construct the sampling volume object <a class="reference internal" href="../../../apidoc/xopto.mcbase.mcsv.html#xopto.mcbase.mcsv.SamplingVolume" title="xopto.mcbase.mcsv.SamplingVolume"><code class="xref py py-class docutils literal notranslate"><span class="pre">SamplingVolume</span></code></a> which allows fast processing of the photon packet traces using the OpenCL parallelization. The constructor <a class="reference internal" href="../../../apidoc/xopto.mcbase.mcsv.html#xopto.mcbase.mcsv.SamplingVolume" title="xopto.mcbase.mcsv.SamplingVolume"><code class="xref py py-class docutils literal notranslate"><span class="pre">SamplingVolume</span></code></a> accepts <img class="math" src="../../../_images/math/888f7c323ac0341871e867220ae2d76467d74d6e.png" alt="x"/>, <img class="math" src="../../../_images/math/1b5e577d6216dca3af7d87aa122a0b9b360d6cb3.png" alt="y"/> and <img class="math" src="../../../_images/math/8d051150f8669295ecdbe92367941012175a824d.png" alt="z"/> axis objects which define accumulator voxels along each axis into which traces are scored. The accumulators along <img class="math" src="../../../_images/math/888f7c323ac0341871e867220ae2d76467d74d6e.png" alt="x"/> and <img class="math" src="../../../_images/math/1b5e577d6216dca3af7d87aa122a0b9b360d6cb3.png" alt="y"/> axes in our case span from -0.75 to 0.75 mm and are split into 200 intervals. The accumulator along the <img class="math" src="../../../_images/math/8d051150f8669295ecdbe92367941012175a824d.png" alt="z"/> axis span from 0 to 1 mm and is split into 200 intervals.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">nx</span> <span class="o">=</span> <span class="mi">200</span>
<span class="n">ny</span> <span class="o">=</span> <span class="mi">200</span>
<span class="n">nz</span> <span class="o">=</span> <span class="mi">200</span>
<span class="n">sv</span> <span class="o">=</span> <span class="n">mc</span><span class="o">.</span><span class="n">mcsv</span><span class="o">.</span><span class="n">SamplingVolume</span><span class="p">(</span>
    <span class="n">xaxis</span><span class="o">=</span><span class="n">axis</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="o">-</span><span class="mf">0.75e-3</span><span class="p">,</span> <span class="mf">0.75e-3</span><span class="p">,</span> <span class="n">nx</span><span class="p">),</span>
    <span class="n">yaxis</span><span class="o">=</span><span class="n">axis</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="o">-</span><span class="mf">0.75e-3</span><span class="p">,</span> <span class="mf">0.75e-3</span><span class="p">,</span> <span class="n">ny</span><span class="p">),</span>
    <span class="n">zaxis</span><span class="o">=</span><span class="n">axis</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="mf">0e-3</span><span class="p">,</span> <span class="mf">1e-3</span><span class="p">,</span> <span class="n">nz</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="the-monte-carlo-simulator-object">
<h2>The Monte Carlo simulator object<a class="headerlink" href="#the-monte-carlo-simulator-object" title="Permalink to this headline">¶</a></h2>
<p>The Monte Carlo simulator object <code class="xref py py-class docutils literal notranslate"><span class="pre">MC</span></code> is defined similarly to the example <a class="reference internal" href="tracing.html#example-photon-packet-tracing"><span class="std std-ref">Photon packet tracing</span></a>. In this case the termination radius is set to a bigger value to allow the photon packets to propagate longer distances.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mc_obj</span> <span class="o">=</span> <span class="n">mc</span><span class="o">.</span><span class="n">Mc</span><span class="p">(</span>
    <span class="n">layers</span><span class="o">=</span><span class="n">layers</span><span class="p">,</span>
    <span class="n">source</span><span class="o">=</span><span class="n">source</span><span class="p">,</span>
    <span class="n">detectors</span><span class="o">=</span><span class="n">detectors</span><span class="p">,</span>
    <span class="n">trace</span><span class="o">=</span><span class="n">trace</span><span class="p">,</span>
    <span class="n">cl_devices</span><span class="o">=</span><span class="n">cl_device</span>
<span class="p">)</span>
<span class="n">mc_obj</span><span class="o">.</span><span class="n">rmax</span> <span class="o">=</span> <span class="mf">1e-1</span>
</pre></div>
</div>
</section>
<section id="running-the-monte-carlo-simulations">
<h2>Running the Monte Carlo simulations<a class="headerlink" href="#running-the-monte-carlo-simulations" title="Permalink to this headline">¶</a></h2>
<p>Similarly as provided in the example <a class="reference internal" href="tracing.html#example-photon-packet-tracing"><span class="std std-ref">Photon packet tracing</span></a>, the simulations are run multiple times within the <code class="code docutils literal notranslate"><span class="pre">while</span></code> loop in order to detect a specified number of photon packet traces <code class="code docutils literal notranslate"><span class="pre">recorded_traces</span></code>. Subsequently, the sampling volume is computed using the method <a class="reference internal" href="../../../apidoc/xopto.mcml.mc.html#xopto.mcml.mc.Mc.sampling_volume" title="xopto.mcml.mc.Mc.sampling_volume"><code class="xref py py-meth docutils literal notranslate"><span class="pre">sampling_volume()</span></code></a>, which accepts the final trace object and the constructed sampling volume object <code class="code docutils literal notranslate"><span class="pre">sv</span></code> from before.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">output</span> <span class="o">=</span> <span class="n">mc_obj</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">nphotons</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">wgsize</span><span class="o">=</span><span class="mi">256</span><span class="p">)</span>
<span class="k">while</span> <span class="n">output</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">recorded_traces</span><span class="p">:</span>
    <span class="n">output</span> <span class="o">=</span> <span class="n">mc_obj</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">nphotons</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">wgsize</span><span class="o">=</span><span class="mi">256</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="n">output</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Photon packet traces deteced:&#39;</span><span class="p">,</span> <span class="n">output</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">output</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">sv</span> <span class="o">=</span> <span class="n">mc_obj</span><span class="o">.</span><span class="n">sampling_volume</span><span class="p">(</span><span class="n">trace</span><span class="p">,</span> <span class="n">sv</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="sampling-volume-visualization">
<h2>Sampling volume visualization<a class="headerlink" href="#sampling-volume-visualization" title="Permalink to this headline">¶</a></h2>
<p>The data within the sampling volume object <code class="code docutils literal notranslate"><span class="pre">sv</span></code> can be accessed via the <code class="xref py py-attr docutils literal notranslate"><span class="pre">data</span></code> attribute corresponding to a 3D numpy array with the 0 axis/indices corresponding to <img class="math" src="../../../_images/math/8d051150f8669295ecdbe92367941012175a824d.png" alt="z"/> axis, 1 axis/indices corresponding to <img class="math" src="../../../_images/math/1b5e577d6216dca3af7d87aa122a0b9b360d6cb3.png" alt="y"/> axis and 2 axis/indices correspodning to <img class="math" src="../../../_images/math/888f7c323ac0341871e867220ae2d76467d74d6e.png" alt="x"/> axis. In this example we visualize the sampling volume summed along the <img class="math" src="../../../_images/math/1b5e577d6216dca3af7d87aa122a0b9b360d6cb3.png" alt="y"/> axis.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pp</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">pp</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Sampling volume&#39;</span><span class="p">)</span>
<span class="n">pp</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">sv</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">extent</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mf">0.75</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">pp</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;x (mm)&#39;</span><span class="p">)</span>
<span class="n">pp</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;z (mm)&#39;</span><span class="p">)</span>
<span class="n">pp</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../../../_images/sampling_volume.svg"><img alt="Sampling volume" class="align-center" height="360px" src="../../../_images/sampling_volume.svg" width="480px" /></a>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For a better signal-to-noise ratio a significantly larger amount of photon packet traces that satisfy the filter should be detected. In this example we have set the number of detected photon packet traces to 1000. However, increasing this number will also prolong the simulation times.</p>
</div>
</section>
<section id="the-complete-example">
<h2>The complete example<a class="headerlink" href="#the-complete-example" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="c1">################################ Begin license #################################</span>
<span class="c1"># Copyright (C) Laboratory of Imaging technologies,</span>
<span class="c1">#               Faculty of Electrical Engineering,</span>
<span class="c1">#               University of Ljubljana.</span>
<span class="c1">#</span>
<span class="c1"># This file is part of PyXOpto.</span>
<span class="c1">#</span>
<span class="c1"># PyXOpto is free software: you can redistribute it and/or modify</span>
<span class="c1"># it under the terms of the GNU General Public License as published by</span>
<span class="c1"># the Free Software Foundation, either version 3 of the License, or</span>
<span class="c1"># (at your option) any later version.</span>
<span class="c1">#</span>
<span class="c1"># PyXOpto is distributed in the hope that it will be useful,</span>
<span class="c1"># but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="c1"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span>
<span class="c1"># GNU General Public License for more details.</span>
<span class="c1">#</span>
<span class="c1"># You should have received a copy of the GNU General Public License</span>
<span class="c1"># along with PyXOpto. If not, see &lt;https://www.gnu.org/licenses/&gt;.</span>
<span class="c1">################################# End license ##################################</span>

<span class="c1"># This example covers all the neccessary steps for simulating </span>
<span class="c1"># sampling volume utilizing multimode optical fibers as </span>
<span class="c1"># sources and detectors. Sampling volume gives us an </span>
<span class="c1"># understanding of which part of the turbid medium under </span>
<span class="c1"># investigation is primarily responsible for the given </span>
<span class="c1"># detected signal (see Meglinsky, I. V., and S. J. Matcher, </span>
<span class="c1"># Med. Biol. Eng. Comput., 39(1), 44-50 (2001).)</span>

<span class="kn">from</span> <span class="nn">xopto.mcml</span> <span class="kn">import</span> <span class="n">mc</span>
<span class="kn">from</span> <span class="nn">xopto.mcml.mcutil</span> <span class="kn">import</span> <span class="n">fiber</span><span class="p">,</span> <span class="n">axis</span>
<span class="kn">from</span> <span class="nn">xopto.cl</span> <span class="kn">import</span> <span class="n">clinfo</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">pp</span>

<span class="c1"># DEFINE A COMPUTATIONAL DEVICE</span>
<span class="c1"># select the first device from the provided platform</span>
<span class="n">cl_device</span> <span class="o">=</span> <span class="n">clinfo</span><span class="o">.</span><span class="n">gpu</span><span class="p">(</span><span class="n">platform</span><span class="o">=</span><span class="s1">&#39;nvidia&#39;</span><span class="p">)</span>

<span class="c1"># DEFINE OPTICAL PROPERTIES FOR A SINGLE-LAYER MEDIUM</span>
<span class="n">d</span> <span class="o">=</span> <span class="mf">1e-2</span>
<span class="n">layers</span> <span class="o">=</span> <span class="n">mc</span><span class="o">.</span><span class="n">mclayer</span><span class="o">.</span><span class="n">Layers</span><span class="p">([</span>
    <span class="n">mc</span><span class="o">.</span><span class="n">mclayer</span><span class="o">.</span><span class="n">Layer</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mf">1.45</span><span class="p">,</span> <span class="n">mua</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">mus</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">pf</span><span class="o">=</span><span class="n">mc</span><span class="o">.</span><span class="n">mcpf</span><span class="o">.</span><span class="n">Hg</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)),</span>
    <span class="n">mc</span><span class="o">.</span><span class="n">mclayer</span><span class="o">.</span><span class="n">Layer</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="n">d</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mf">1.33</span><span class="p">,</span> <span class="n">mua</span><span class="o">=</span><span class="mf">2e2</span><span class="p">,</span> <span class="n">mus</span><span class="o">=</span><span class="mf">250e2</span><span class="p">,</span> <span class="n">pf</span><span class="o">=</span><span class="n">mc</span><span class="o">.</span><span class="n">mcpf</span><span class="o">.</span><span class="n">Hg</span><span class="p">(</span><span class="mf">0.90</span><span class="p">)),</span>
    <span class="n">mc</span><span class="o">.</span><span class="n">mclayer</span><span class="o">.</span><span class="n">Layer</span><span class="p">(</span><span class="n">d</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mf">1.45</span><span class="p">,</span> <span class="n">mua</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">mus</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">pf</span><span class="o">=</span><span class="n">mc</span><span class="o">.</span><span class="n">mcpf</span><span class="o">.</span><span class="n">Hg</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)),</span>
<span class="p">])</span>

<span class="c1"># DEFINE UNIFORM MULTIMODE FIBER SOURCE</span>
<span class="n">source</span> <span class="o">=</span> <span class="n">mc</span><span class="o">.</span><span class="n">mcsource</span><span class="o">.</span><span class="n">UniformFiber</span><span class="p">(</span>
    <span class="n">fiber</span><span class="o">=</span><span class="n">fiber</span><span class="o">.</span><span class="n">MultimodeFiber</span><span class="p">(</span>
        <span class="n">dcore</span><span class="o">=</span><span class="mf">200e-6</span><span class="p">,</span> <span class="n">dcladding</span><span class="o">=</span><span class="mf">220e-6</span><span class="p">,</span> <span class="n">ncore</span><span class="o">=</span><span class="mf">1.45</span><span class="p">,</span> <span class="n">na</span><span class="o">=</span><span class="mf">0.22</span>
    <span class="p">),</span>
    <span class="n">direction</span><span class="o">=</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span>
    <span class="n">position</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mf">220e-6</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># DEFINE MULTIMODE FIBER DETECTOR (IN THIS EXAMPLE ONLY TOP IS USED)</span>
<span class="n">detector_top</span> <span class="o">=</span> <span class="n">mc</span><span class="o">.</span><span class="n">mcdetector</span><span class="o">.</span><span class="n">FiberArray</span><span class="p">(</span>
    <span class="p">[</span><span class="n">fiber</span><span class="o">.</span><span class="n">FiberLayout</span><span class="p">(</span>
        <span class="n">fiber</span><span class="o">=</span><span class="n">fiber</span><span class="o">.</span><span class="n">MultimodeFiber</span><span class="p">(</span>
        <span class="n">dcore</span><span class="o">=</span><span class="mf">200e-6</span><span class="p">,</span> <span class="n">dcladding</span><span class="o">=</span><span class="mf">220e-6</span><span class="p">,</span> <span class="n">ncore</span><span class="o">=</span><span class="mf">1.45</span><span class="p">,</span> <span class="n">na</span><span class="o">=</span><span class="mf">0.22</span>
        <span class="p">),</span>
        <span class="n">position</span><span class="o">=</span><span class="p">(</span><span class="mf">220e-6</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">),</span>
        <span class="n">direction</span><span class="o">=</span><span class="p">(</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
    <span class="p">),]</span>
<span class="p">)</span>

<span class="n">detectors</span> <span class="o">=</span> <span class="n">mc</span><span class="o">.</span><span class="n">mcdetector</span><span class="o">.</span><span class="n">Detectors</span><span class="p">(</span>
    <span class="n">top</span><span class="o">=</span><span class="n">detector_top</span>
<span class="p">)</span>

<span class="c1"># DEFINE THE TRACE OJECT WITH FILTER</span>
<span class="n">nphotons</span> <span class="o">=</span> <span class="mi">100000</span>  <span class="c1"># should be in the order of 10000 for recording traces</span>
<span class="n">recorded_traces</span> <span class="o">=</span> <span class="mi">1000</span>  <span class="c1"># desired number of recorded traces / only useful when filtering traces</span>
<span class="n">number_of_events</span> <span class="o">=</span> <span class="mi">500</span>  <span class="c1"># maximal number of photon packet interaction events</span>

<span class="n">trace</span> <span class="o">=</span> <span class="n">mc</span><span class="o">.</span><span class="n">mctrace</span><span class="o">.</span><span class="n">Trace</span><span class="p">(</span>
    <span class="n">maxlen</span><span class="o">=</span><span class="n">number_of_events</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">mc</span><span class="o">.</span><span class="n">mctrace</span><span class="o">.</span><span class="n">Trace</span><span class="o">.</span><span class="n">TRACE_ALL</span><span class="p">,</span>
    <span class="nb">filter</span><span class="o">=</span><span class="n">mc</span><span class="o">.</span><span class="n">mctrace</span><span class="o">.</span><span class="n">Filter</span><span class="p">(</span>
        <span class="n">z</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mf">1e-9</span><span class="p">,</span> <span class="mf">1e-9</span><span class="p">),</span> 
        <span class="n">pz</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arcsin</span><span class="p">(</span><span class="mf">0.22</span><span class="o">/</span><span class="mf">1.45</span><span class="p">))),</span> 
        <span class="n">r</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">100e-6</span><span class="p">,</span> <span class="p">(</span><span class="mf">220e-6</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="p">)</span>
<span class="p">)</span>

<span class="c1"># DEFINE THE SAMPLING VOLUME OBJECT</span>
<span class="n">nx</span> <span class="o">=</span> <span class="mi">200</span>
<span class="n">ny</span> <span class="o">=</span> <span class="mi">200</span>
<span class="n">nz</span> <span class="o">=</span> <span class="mi">200</span>
<span class="n">sv</span> <span class="o">=</span> <span class="n">mc</span><span class="o">.</span><span class="n">mcsv</span><span class="o">.</span><span class="n">SamplingVolume</span><span class="p">(</span>
    <span class="n">xaxis</span><span class="o">=</span><span class="n">axis</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="o">-</span><span class="mf">0.75e-3</span><span class="p">,</span> <span class="mf">0.75e-3</span><span class="p">,</span> <span class="n">nx</span><span class="p">),</span> 
    <span class="n">yaxis</span><span class="o">=</span><span class="n">axis</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="o">-</span><span class="mf">0.75e-3</span><span class="p">,</span> <span class="mf">0.75e-3</span><span class="p">,</span> <span class="n">ny</span><span class="p">),</span>
    <span class="n">zaxis</span><span class="o">=</span><span class="n">axis</span><span class="o">.</span><span class="n">Axis</span><span class="p">(</span><span class="mf">0e-3</span><span class="p">,</span> <span class="mf">1e-3</span><span class="p">,</span> <span class="n">nz</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># DEFINE MC OBJECT FOR MONTE CARLO SIMULATIONS</span>
<span class="n">mc_obj</span> <span class="o">=</span> <span class="n">mc</span><span class="o">.</span><span class="n">Mc</span><span class="p">(</span>
    <span class="n">layers</span><span class="o">=</span><span class="n">layers</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="n">source</span><span class="p">,</span> 
    <span class="n">detectors</span><span class="o">=</span><span class="n">detectors</span><span class="p">,</span> <span class="n">trace</span><span class="o">=</span><span class="n">trace</span><span class="p">,</span> 
    <span class="n">cl_devices</span><span class="o">=</span><span class="n">cl_device</span>
<span class="p">)</span>
<span class="n">mc_obj</span><span class="o">.</span><span class="n">rmax</span> <span class="o">=</span> <span class="mf">1e-1</span>

<span class="c1"># RUN MONTE CARLO SIMULATIONS AND COMPUTE THE SAMPLING VOLUME</span>
<span class="n">output</span> <span class="o">=</span> <span class="n">mc_obj</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">nphotons</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">wgsize</span><span class="o">=</span><span class="mi">256</span><span class="p">)</span>
<span class="k">while</span> <span class="n">output</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">recorded_traces</span><span class="p">:</span>
    <span class="n">output</span> <span class="o">=</span> <span class="n">mc_obj</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">nphotons</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">wgsize</span><span class="o">=</span><span class="mi">256</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="n">output</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Photon packet traces deteced:&#39;</span><span class="p">,</span> <span class="n">output</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">output</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">sv</span> <span class="o">=</span> <span class="n">mc_obj</span><span class="o">.</span><span class="n">sampling_volume</span><span class="p">(</span><span class="n">trace</span><span class="p">,</span> <span class="n">sv</span><span class="p">)</span>

<span class="n">pp</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">pp</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Sampling volume&#39;</span><span class="p">)</span>
<span class="n">pp</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">sv</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span> <span class="n">extent</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mf">0.75</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">pp</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;x (mm)&#39;</span><span class="p">)</span>
<span class="n">pp</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;z (mm)&#39;</span><span class="p">)</span>
<span class="n">pp</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>You can run this example from the root directory of the PyXOpto package as:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python examples/mcml/sampling_volume.py
</pre></div>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../../../index.html">
    <img class="logo" src="../../../_static/xopto_logo_bright.png" alt="Logo"/>
    
    <h1 class="logo logo-name">PyXOpto</h1>
    
  </a>
</p>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../opencl_devices.html">OpenCL devices</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Layered MC</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../layer_stack.html">The layer stack</a></li>
<li class="toctree-l2"><a class="reference internal" href="../phase_function.html">Scattering phase functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../source.html">Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="../detector.html">Detectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../surface_layout.html">Surface layouts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fluence.html">Fluence</a></li>
<li class="toctree-l2"><a class="reference internal" href="../trace.html">Trace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sampling_volume.html">Sampling volume</a></li>
<li class="toctree-l2"><a class="reference internal" href="../simulator_data_types.html">Simulator data types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../simulator_options.html">Simulator options</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Examples</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="basic_example.html">Basic example</a></li>
<li class="toctree-l3"><a class="reference internal" href="reflectance_spectrum_skin.html">Reflectance spectrum simulations of human skin</a></li>
<li class="toctree-l3"><a class="reference internal" href="reflectance_optical_probes.html">Reflectance acquired with optical fibers and probes</a></li>
<li class="toctree-l3"><a class="reference internal" href="scattering_phase_function.html">Reflectance spectrum dependence on scattering phase function</a></li>
<li class="toctree-l3"><a class="reference internal" href="tracing.html">Photon packet tracing</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Sampling volume simulations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../mcvox/index.html">Voxelized MC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../apidoc/modules.html">xopto</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">Layered MC</a><ul>
  <li><a href="index.html">Examples</a><ul>
      <li>Previous: <a href="tracing.html" title="previous chapter">Photon packet tracing</a></li>
      <li>Next: <a href="../../mcvox/index.html" title="next chapter">Voxelized MC</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, XOpto team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.0.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>