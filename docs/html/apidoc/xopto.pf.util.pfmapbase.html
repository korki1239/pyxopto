

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>xopto.pf.util.pfmapbase module &mdash; PyXOpto 0.1.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="xopto.pf.util.pfmapgk module" href="xopto.pf.util.pfmapgk.html" />
    <link rel="prev" title="xopto.pf.util.helpers module" href="xopto.pf.util.helpers.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> PyXOpto
          

          
            
            <img src="../_static/xopto_logo_dark.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../source/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../source/opencl_devices.html">OpenCL devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../source/mcml/index.html">Layered MC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../source/mccyl/index.html">Cylindrical MC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../source/mcvox/index.html">Voxelized MC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../source/dataset/index.html">Datasets</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">xopto</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="xopto.html">xopto package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="xopto.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="xopto.cl.html">xopto.cl package</a></li>
<li class="toctree-l4"><a class="reference internal" href="xopto.data.html">xopto.data package</a></li>
<li class="toctree-l4"><a class="reference internal" href="xopto.dataset.html">xopto.dataset package</a></li>
<li class="toctree-l4"><a class="reference internal" href="xopto.materials.html">xopto.materials package</a></li>
<li class="toctree-l4"><a class="reference internal" href="xopto.mcbase.html">xopto.mcbase package</a></li>
<li class="toctree-l4"><a class="reference internal" href="xopto.mccyl.html">xopto.mccyl package</a></li>
<li class="toctree-l4"><a class="reference internal" href="xopto.mcml.html">xopto.mcml package</a></li>
<li class="toctree-l4"><a class="reference internal" href="xopto.mcvox.html">xopto.mcvox package</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="xopto.pf.html">xopto.pf package</a></li>
<li class="toctree-l4"><a class="reference internal" href="xopto.src.html">xopto.src package</a></li>
<li class="toctree-l4"><a class="reference internal" href="xopto.util.html">xopto.util package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="xopto.html#module-xopto">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PyXOpto</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">xopto</a> &raquo;</li>
        
          <li><a href="xopto.html">xopto package</a> &raquo;</li>
        
          <li><a href="xopto.pf.html">xopto.pf package</a> &raquo;</li>
        
          <li><a href="xopto.pf.util.html">xopto.pf.util package</a> &raquo;</li>
        
      <li>xopto.pf.util.pfmapbase module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-xopto.pf.util.pfmapbase">
<span id="xopto-pf-util-pfmapbase-module"></span><h1>xopto.pf.util.pfmapbase module<a class="headerlink" href="#module-xopto.pf.util.pfmapbase" title="Permalink to this headline">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="xopto.pf.util.pfmapbase.PfMap2DBase">
<em class="property"><span class="pre">class</span> </em><span class="sig-name descname"><span class="pre">PfMap2DBase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param2</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">numpy.ndarray</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ng</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pf</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="xopto.pf.pfbase.html#xopto.pf.pfbase.PfBase" title="xopto.pf.pfbase.PfBase"><span class="pre">xopto.pf.pfbase.PfBase</span></a><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ncostheta</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xopto/pf/util/pfmapbase.html#PfMap2DBase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#xopto.pf.util.pfmapbase.PfMap2DBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base class constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>param1</strong> (<em>np.ndarray vector</em>) – Sampling points of the first parameter of the scattering phase
function.</p></li>
<li><p><strong>param2</strong> (<em>np.ndarray vector</em>) – Sampling points of the second parameter of the scattering phase
function.</p></li>
<li><p><strong>pf</strong> (<em>xopto.pf.PfBase</em>) – Scattering phase function instance used with this parameter map.</p></li>
<li><p><strong>ncostheta</strong> (<em>int</em>) – Number of nodes used to compute the Legendre moments. Use a
large number (&gt; 1000) for accurate results. If None, adaptive
step integration is used, which is accurate but can become slow.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Additional parameters passed to the constructor of the
scattering phase function.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="xopto.pf.util.pfmapbase.PfMap2DBase.DEFAULT_MAP_FILE">
<span class="sig-name descname"><span class="pre">DEFAULT_MAP_FILE</span></span><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#xopto.pf.util.pfmapbase.PfMap2DBase.DEFAULT_MAP_FILE" title="Permalink to this definition">¶</a></dt>
<dd><p>A filename for the default map.
Overload this static member in derived classes.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="xopto.pf.util.pfmapbase.PfMap2DBase.DEFAULT_MAP_PATH">
<span class="sig-name descname"><span class="pre">DEFAULT_MAP_PATH</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'/home/miran/.xopto/pyxopto/data/pf'</span></em><a class="headerlink" href="#xopto.pf.util.pfmapbase.PfMap2DBase.DEFAULT_MAP_PATH" title="Permalink to this definition">¶</a></dt>
<dd><p>A directory for the precalculated default map.
Overload this static member in derived classes.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="xopto.pf.util.pfmapbase.PfMap2DBase.PLOTSCALEFACTORX">
<span class="sig-name descname"><span class="pre">PLOTSCALEFACTORX</span></span><em class="property"> <span class="pre">=</span> <span class="pre">1.0</span></em><a class="headerlink" href="#xopto.pf.util.pfmapbase.PfMap2DBase.PLOTSCALEFACTORX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="xopto.pf.util.pfmapbase.PfMap2DBase.PLOTSCALEFACTORY">
<span class="sig-name descname"><span class="pre">PLOTSCALEFACTORY</span></span><em class="property"> <span class="pre">=</span> <span class="pre">1.0</span></em><a class="headerlink" href="#xopto.pf.util.pfmapbase.PfMap2DBase.PLOTSCALEFACTORY" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for computing maps of scattering phase function quantifiers
as a function ot the scattering phase functions parameters - only for
two-parametric scattering phase functions.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="xopto.pf.util.pfmapbase.PfMap2DBase.XLABEL">
<span class="sig-name descname"><span class="pre">XLABEL</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'$first</span> <span class="pre">parameter$'</span></em><a class="headerlink" href="#xopto.pf.util.pfmapbase.PfMap2DBase.XLABEL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="xopto.pf.util.pfmapbase.PfMap2DBase.YLABEL">
<span class="sig-name descname"><span class="pre">YLABEL</span></span><em class="property"> <span class="pre">=</span> <span class="pre">'$second</span> <span class="pre">parameter$'</span></em><a class="headerlink" href="#xopto.pf.util.pfmapbase.PfMap2DBase.YLABEL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xopto.pf.util.pfmapbase.PfMap2DBase.default_data_file">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">default_data_file</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">str</span><a class="reference internal" href="../_modules/xopto/pf/util/pfmapbase.html#PfMap2DBase.default_data_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#xopto.pf.util.pfmapbase.PfMap2DBase.default_data_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a full filename for the default data file.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>filename</strong> – Full filename of the default data file.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xopto.pf.util.pfmapbase.PfMap2DBase.delta">
<span class="sig-name descname"><span class="pre">delta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param2</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">float</span><a class="reference internal" href="../_modules/xopto/pf/util/pfmapbase.html#PfMap2DBase.delta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#xopto.pf.util.pfmapbase.PfMap2DBase.delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the values of delta=(1 - g_3)/(1 - g_1) for the scattering
phase function using the specified values of the scattering phase
function parameters.
If one of the scattering phase function parameters is None,
the full map is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>param1</strong> (<em>float</em><em>, </em><em>ndarray</em>) – Value(s) of the first parameter of the scattering phase function.</p></li>
<li><p><strong>param2</strong> (<em>float</em><em>, </em><em>ndarray</em>) – Value(s) of the second parameter of the scattering phase function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>g_p</strong> – The value(s) of delta.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float, ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xopto.pf.util.pfmapbase.PfMap2DBase.fromfile">
<em class="property"><span class="pre">classmethod</span> </em><span class="sig-name descname"><span class="pre">fromfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#xopto.pf.util.pfmapbase.PfMap2DBase" title="xopto.pf.util.pfmapbase.PfMap2DBase"><span class="pre">xopto.pf.util.pfmapbase.PfMap2DBase</span></a><a class="reference internal" href="../_modules/xopto/pf/util/pfmapbase.html#PfMap2DBase.fromfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#xopto.pf.util.pfmapbase.PfMap2DBase.fromfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a scattering phase function map from a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – Source file. If None load the map from the default file or
create and save a new default map if a default file does not exist.
Location of the default map file is defined by the
<a class="reference internal" href="#xopto.pf.util.pfmapbase.PfMap2DBase.DEFAULT_MAP_PATH" title="xopto.pf.util.pfmapbase.PfMap2DBase.DEFAULT_MAP_PATH"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DEFAULT_MAP_PATH</span></code></a> and <a class="reference internal" href="#xopto.pf.util.pfmapbase.PfMap2DBase.DEFAULT_MAP_FILE" title="xopto.pf.util.pfmapbase.PfMap2DBase.DEFAULT_MAP_FILE"><code class="xref py py-attr docutils literal notranslate"><span class="pre">DEFAULT_MAP_FILE</span></code></a>
static attributes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xopto.pf.util.pfmapbase.PfMap2DBase.g">
<span class="sig-name descname"><span class="pre">g</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param2</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">float</span><a class="reference internal" href="../_modules/xopto/pf/util/pfmapbase.html#PfMap2DBase.g"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#xopto.pf.util.pfmapbase.PfMap2DBase.g" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the value of the p-the Legendre moment for the scattering
phase function using the specified values of the scattering phase
function parameters.
If one of the scattering phase function parameters is None,
the full map is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>param1</strong> (<em>float</em><em> or </em><em>np.ndarray</em>) – Value(s) of the first phase function parameter.</p></li>
<li><p><strong>param2</strong> (<em>float</em><em>  or </em><em>np.ndarray</em>) – Value(s) of the second phase function parameter.</p></li>
<li><p><strong>p</strong> (<em>int</em>) – Requested Legendre moment (p=1 … anisotropy factor g).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>g_p</strong> – The value(s) of the requested Legendre moments.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float or np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xopto.pf.util.pfmapbase.PfMap2DBase.gamma">
<span class="sig-name descname"><span class="pre">gamma</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param2</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">float</span><a class="reference internal" href="../_modules/xopto/pf/util/pfmapbase.html#PfMap2DBase.gamma"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#xopto.pf.util.pfmapbase.PfMap2DBase.gamma" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the value of <img class="math" src="../_images/math/cfc0d78b994620a526e26bde0bdc3c9907dce358.png" alt="\gamma=(1 - g_2)/(1 - g_1)"/> for the
scattering phase function ussing the specified values of the scattering
phase function parameters.
If one of the scattering phase function parameters is None,
the full map is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>param1</strong> (<em>float</em><em> or </em><em>np.ndarray</em>) – Value(s) of the first parameter of the scattering phase function.</p></li>
<li><p><strong>param2</strong> (<em>float</em><em> or </em><em>np.ndarray</em>) – Value(s) of the second parameter of the scattering phase function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>g_p</strong> – The value(s) of gamma.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float or np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xopto.pf.util.pfmapbase.PfMap2DBase.gammadelta">
<span class="sig-name descname"><span class="pre">gammadelta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param2</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">float</span><a class="reference internal" href="../_modules/xopto/pf/util/pfmapbase.html#PfMap2DBase.gammadelta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#xopto.pf.util.pfmapbase.PfMap2DBase.gammadelta" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the value of gamma=(1 - g_2)/(1 - g_1) for the scattering phase
function using the specified values of the scattering phase function
parameters.
If one of the scattering phase function parameters is None,
the full map is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>param1</strong> (<em>float</em><em>, </em><em>ndarray</em>) – Value(s) of the first parameter of the scattering phase function.</p></li>
<li><p><strong>param2</strong> (<em>float</em><em>, </em><em>ndarray</em>) – Value(s) of the second parameter of the scattering phase function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>g_p</strong> – The value(s) of gammas.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float, ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xopto.pf.util.pfmapbase.PfMap2DBase.grid1">
<span class="sig-name descname"><span class="pre">grid1</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">numpy.ndarray</span><a class="reference internal" href="../_modules/xopto/pf/util/pfmapbase.html#PfMap2DBase.grid1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#xopto.pf.util.pfmapbase.PfMap2DBase.grid1" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a 2D array (meshgrid) of points defining the grid of
the first scattering phase function parameter.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xopto.pf.util.pfmapbase.PfMap2DBase.grid2">
<span class="sig-name descname"><span class="pre">grid2</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">numpy.ndarray</span><a class="reference internal" href="../_modules/xopto/pf/util/pfmapbase.html#PfMap2DBase.grid2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#xopto.pf.util.pfmapbase.PfMap2DBase.grid2" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a 2D array (meshgrid) of points defining the grid of
the second scattering phase function parameter.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xopto.pf.util.pfmapbase.PfMap2DBase.invgamma">
<span class="sig-name descname"><span class="pre">invgamma</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">g</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/xopto/pf/util/pfmapbase.html#PfMap2DBase.invgamma"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#xopto.pf.util.pfmapbase.PfMap2DBase.invgamma" title="Permalink to this definition">¶</a></dt>
<dd><p>Legendre moments, and from there gamma, are calculated on
the fly, using the scattering phase function model.
Calculating the scattering phase function moments on the fly is
more accurate then using a precalculated map.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>g</strong> (<em>float</em>) – Target value of the first Legendre moment.</p></li>
<li><p><strong>gamma</strong> (<em>float</em>) – Target value of parameter gamma.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>param1, param2</strong> – The estimated values of the scattering phase function parameters.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float, float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xopto.pf.util.pfmapbase.PfMap2DBase.invgammadelta">
<span class="sig-name descname"><span class="pre">invgammadelta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gamma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delta</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/xopto/pf/util/pfmapbase.html#PfMap2DBase.invgammadelta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#xopto.pf.util.pfmapbase.PfMap2DBase.invgammadelta" title="Permalink to this definition">¶</a></dt>
<dd><p>Legendre moments, and from there gamma and delta, are calculated on
the fly, using the scattering phase function model.
Calculating the scattering phase function moments on the fly is more
accurate then using a precalculated map.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>gamma</strong> (<em>float</em>) – Target value of parameter gamma.</p></li>
<li><p><strong>delta</strong> (<em>float</em>) – Target value of parameter delta.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Keyword arguments passed to the fmin_l_bfgs_b optimization
function.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>param1, param2</strong> – The estimated values of the scattering phase function parameters.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float, float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xopto.pf.util.pfmapbase.PfMap2DBase.invsigma">
<span class="sig-name descname"><span class="pre">invsigma</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">g</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><a class="reference internal" href="../_modules/xopto/pf/util/pfmapbase.html#PfMap2DBase.invsigma"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#xopto.pf.util.pfmapbase.PfMap2DBase.invsigma" title="Permalink to this definition">¶</a></dt>
<dd><p>Legendre moments, and from there sigma, are calculated on
the fly, using the scattering phase function model.
Calculating the phase function moments on the fly is more accurate
then using a precalculated map.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>g</strong> (<em>float</em>) – Target value of the first Legendre moment.</p></li>
<li><p><strong>sigma</strong> (<em>float</em>) – Target value of parameter sigma.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>param1, param2</strong> – The estimated values of the scattering phase function parameters.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float, float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xopto.pf.util.pfmapbase.PfMap2DBase.n1">
<span class="sig-name descname"><span class="pre">n1</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">int</span><a class="reference internal" href="../_modules/xopto/pf/util/pfmapbase.html#PfMap2DBase.n1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#xopto.pf.util.pfmapbase.PfMap2DBase.n1" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of points defining the grid of
the first scattering phase function parameter.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xopto.pf.util.pfmapbase.PfMap2DBase.n2">
<span class="sig-name descname"><span class="pre">n2</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">int</span><a class="reference internal" href="../_modules/xopto/pf/util/pfmapbase.html#PfMap2DBase.n2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#xopto.pf.util.pfmapbase.PfMap2DBase.n2" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of points defining the grid of
the second scattering phase function parameter.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xopto.pf.util.pfmapbase.PfMap2DBase.ng">
<span class="sig-name descname"><span class="pre">ng</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">int</span><a class="reference internal" href="../_modules/xopto/pf/util/pfmapbase.html#PfMap2DBase.ng"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#xopto.pf.util.pfmapbase.PfMap2DBase.ng" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of Legendre moments.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xopto.pf.util.pfmapbase.PfMap2DBase.param1">
<span class="sig-name descname"><span class="pre">param1</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">numpy.ndarray</span><a class="reference internal" href="../_modules/xopto/pf/util/pfmapbase.html#PfMap2DBase.param1"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#xopto.pf.util.pfmapbase.PfMap2DBase.param1" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a vector of points defining the grid of
the first scattering phase function parameter.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xopto.pf.util.pfmapbase.PfMap2DBase.param2">
<span class="sig-name descname"><span class="pre">param2</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">numpy.ndarray</span><a class="reference internal" href="../_modules/xopto/pf/util/pfmapbase.html#PfMap2DBase.param2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#xopto.pf.util.pfmapbase.PfMap2DBase.param2" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a vector of points defining the grid of
the second scattering phase function parameter.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xopto.pf.util.pfmapbase.PfMap2DBase.pf">
<span class="sig-name descname"><span class="pre">pf</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="xopto.pf.pfbase.html#xopto.pf.pfbase.PfBase" title="xopto.pf.pfbase.PfBase"><span class="pre">xopto.pf.pfbase.PfBase</span></a><a class="reference internal" href="../_modules/xopto/pf/util/pfmapbase.html#PfMap2DBase.pf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#xopto.pf.util.pfmapbase.PfMap2DBase.pf" title="Permalink to this definition">¶</a></dt>
<dd><p>Type/class of the scattering phase function that is used in this map.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xopto.pf.util.pfmapbase.PfMap2DBase.pf_type_name">
<span class="sig-name descname"><span class="pre">pf_type_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; <span class="pre">str</span><a class="reference internal" href="../_modules/xopto/pf/util/pfmapbase.html#PfMap2DBase.pf_type_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#xopto.pf.util.pfmapbase.PfMap2DBase.pf_type_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Type name of the scattering phase function that is used in this map.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xopto.pf.util.pfmapbase.PfMap2DBase.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xopto/pf/util/pfmapbase.html#PfMap2DBase.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#xopto.pf.util.pfmapbase.PfMap2DBase.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save instance to a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – The target file name.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xopto.pf.util.pfmapbase.PfMap2DBase.show">
<span class="sig-name descname"><span class="pre">show</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/xopto/pf/util/pfmapbase.html#PfMap2DBase.show"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#xopto.pf.util.pfmapbase.PfMap2DBase.show" title="Permalink to this definition">¶</a></dt>
<dd><p>Show the scattering phase function maps using matplotlib.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="xopto.pf.util.pfmapbase.PfMap2DBase.sigma">
<span class="sig-name descname"><span class="pre">sigma</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param1</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param2</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ng</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">15</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">float</span><a class="reference internal" href="../_modules/xopto/pf/util/pfmapbase.html#PfMap2DBase.sigma"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#xopto.pf.util.pfmapbase.PfMap2DBase.sigma" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the value of sigma for the scattering phase
function at the specified values of the scattering phase function
parameters.
If one of the scattering phase function parameters is None,
the full map is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>param1</strong> (<em>float</em><em>, </em><em>ndarray</em>) – Value(s) of the GK phase function parameter.</p></li>
<li><p><strong>param2</strong> (<em>float</em><em>, </em><em>ndarray</em>) – Value(s) of the GK phase function parameter.</p></li>
<li><p><strong>ng</strong> (<em>int</em>) – The number of Legendre moments that is used for sigma calculation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>g_p</strong> – The value(s) of sigma.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float, ndarray</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="xopto.pf.util.pfmapbase.load_map">
<span class="sig-name descname"><span class="pre">load_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <a class="reference internal" href="#xopto.pf.util.pfmapbase.PfMap2DBase" title="xopto.pf.util.pfmapbase.PfMap2DBase"><span class="pre">xopto.pf.util.pfmapbase.PfMap2DBase</span></a><a class="reference internal" href="../_modules/xopto/pf/util/pfmapbase.html#load_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#xopto.pf.util.pfmapbase.load_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads any of the scattering phase function maps from a file.
For details see the documentation of MieFractalPolystyreneMap,
MiePolystyreneMap, MHgMap, GkMap and MPcMap.</p>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="xopto.pf.util.pfmapgk.html" class="btn btn-neutral float-right" title="xopto.pf.util.pfmapgk module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="xopto.pf.util.helpers.html" class="btn btn-neutral float-left" title="xopto.pf.util.helpers module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, XOpto team.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>